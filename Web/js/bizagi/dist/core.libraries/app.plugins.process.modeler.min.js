/*! ProcessModelerSimulation 2014-04-30 */
/*"use strict";*/!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c=function(a){return new c.prototype.init(a)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:a.Globalize=c,c.cultures={},c.prototype={constructor:c,init:function(a){return this.cultures=c.cultures,this.cultureSelector=a,this}},c.prototype.init.prototype=c.prototype,c.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},c.cultures["default"].calendar=c.cultures["default"].calendars.standard,c.cultures.en=c.cultures["default"],c.cultureSelector="en",d=/^0x[a-f0-9]+$/i,e=/^[+-]?infinity$/i,f=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,g=/^\s+|\s+$/g,h=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},i=function(a,b){return a.substr(a.length-b.length)===b},j=function(a){var c,d,e,f,g,h,i=arguments[0]||{},n=1,o=arguments.length,a=!1;for("boolean"==typeof i&&(a=i,i=arguments[1]||{},n=2),"object"==typeof i||l(i)||(i={});o>n;n++)if(null!=(c=arguments[n]))for(d in c)e=i[d],f=c[d],i!==f&&(a&&f&&(m(f)||(g=k(f)))?(g?(g=!1,h=e&&k(e)?e:[]):h=e&&m(e)?e:{},i[d]=j(a,h,f)):f!==b&&(i[d]=f));return i},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(a){return"[object Function]"===Object.prototype.toString.call(a)},m=function(a){return"[object Object]"===Object.prototype.toString.call(a)},n=function(a,b){return 0===a.indexOf(b)},o=function(a){return(a+"").replace(g,"")},p=function(a){return 0|a},q=function(a,b,c){var d;for(d=a.length;b>d;d+=1)a=c?"0"+a:a+"0";return a},r=function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},s=function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},t=function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=u[b-2]+d,c.substr(c.length-b,b)):c=d}function e(){return o||p?o:(o=y.test(b),p=!0,o)}function f(a,b){if(q)return q[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}var g=c.calendar,h=g.convert;if(!b||!b.length||"i"===b){var i;if(c&&c.name.length)if(h)i=t(a,g.patterns.F,c);else{var j=new Date(a.getTime()),k=w(a,g.eras);j.setFullYear(x(a,g,k)),i=j.toLocaleString()}else i=a.toString();return i}var l=g.eras,m="s"===b;b=s(g,b),i=[];var n,o,p,q,u=["0","00","000"],y=/([^d]|^)(d|dd)([^d]|$)/g,z=0,A=v();for(!m&&h&&(q=h.fromGregorian(a));;){var B=A.lastIndex,C=A.exec(b),D=b.slice(B,C?C.index:b.length);if(z+=r(D,i),!C)break;if(z%2)i.push(C[0]);else{var E=C[0],F=E.length;switch(E){case"ddd":case"dddd":var G=3===F?g.days.namesAbbr:g.days.names;i.push(G[a.getDay()]);break;case"d":case"dd":o=!0,i.push(d(f(a,2),F));break;case"MMM":case"MMMM":var H=f(a,1);i.push(g.monthsGenitive&&e()?g.monthsGenitive[3===F?"namesAbbr":"names"][H]:g.months[3===F?"namesAbbr":"names"][H]);break;case"M":case"MM":i.push(d(f(a,1)+1,F));break;case"y":case"yy":case"yyyy":H=q?q[0]:x(a,g,w(a,l),m),4>F&&(H%=100),i.push(d(H,F));break;case"h":case"hh":n=a.getHours()%12,0===n&&(n=12),i.push(d(n,F));break;case"H":case"HH":i.push(d(a.getHours(),F));break;case"m":case"mm":i.push(d(a.getMinutes(),F));break;case"s":case"ss":i.push(d(a.getSeconds(),F));break;case"t":case"tt":H=a.getHours()<12?g.AM?g.AM[0]:" ":g.PM?g.PM[0]:" ",i.push(1===F?H.charAt(0):H);break;case"f":case"ff":case"fff":i.push(d(a.getMilliseconds(),3).substr(0,F));break;case"z":case"zz":n=a.getTimezoneOffset()/60,i.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),F));break;case"zzz":n=a.getTimezoneOffset()/60,i.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":g.eras&&i.push(g.eras[w(a,l)].name);break;case"/":i.push(g["/"]);break;default:throw"Invalid date format pattern '"+E+"'."}}}return i.join("")},function(){var a;a=function(a,b,c){var d=c.groupSizes,e=d[0],f=1,g=Math.pow(10,b),h=Math.round(a*g)/g;isFinite(h)||(h=a),a=h;var i=a+"",j="",k=i.split(/e/i),l=k.length>1?parseInt(k[1],10):0;i=k[0],k=i.split("."),i=k[0],j=k.length>1?k[1]:"";l>0?(j=q(j,l,!1),i+=j.slice(0,l),j=j.substr(l)):0>l&&(l=-l,i=q(i,l+1),j=i.slice(-l,i.length)+j,i=i.slice(0,-l)),j=b>0?c["."]+(j.length>b?j.slice(0,b):q(j,b)):"";for(var m=i.length-1,n=c[","],o="";m>=0;){if(0===e||e>m)return i.slice(0,m+1)+(o.length?n+o+j:j);o=i.slice(m-e+1,m+1)+(o.length?n+o:""),m-=e,f<d.length&&(e=d[f],f++)}return i.slice(0,m+1)+n+o+j},u=function(b,c,d){if(!isFinite(b))return 1/0===b?d.numberFormat.positiveInfinity:b===-1/0?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";var e,f=d.numberFormat,g=Math.abs(b),h=-1;c.length>1&&(h=parseInt(c.slice(1),10));var i,j=c.charAt(0).toUpperCase();switch(j){case"D":e="n",g=p(g),-1!==h&&(g=q(""+g,h,!0)),0>b&&(g="-"+g);break;case"N":i=f;case"C":i=i||f.currency;case"P":i=i||f.percent,e=0>b?i.pattern[0]:i.pattern[1]||"n",-1===h&&(h=i.decimals),g=a(g*("P"===j?100:1),h,i);break;default:throw"Bad number format specifier: "+j}for(var k=/n|\$|-|%/g,l="";;){var m=k.lastIndex,n=k.exec(e);if(l+=e.slice(m,n?n.index:e.length),!n)break;switch(n[0]){case"n":l+=g;break;case"$":l+=f.currency.symbol;break;case"-":/[1-9]/.test(g)&&(l+=f["-"]);break;case"%":l+=f.percent.symbol}}return l}}(),v=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},x=function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},function(){var a,b,c,d,e,f,g;a=function(a,b){var c=new Date,d=w(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=x(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},b=function(a,b,c){var d,e=a.days,i=a._upperDays;return i||(a._upperDays=i=[g(e.names),g(e.namesAbbr),g(e.namesShort)]),b=f(b),c?(d=h(i[1],b),-1===d&&(d=h(i[2],b))):d=h(i[0],b),d},c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,i=a._upperMonths,j=a._upperMonthsGen;i||(a._upperMonths=i=[g(d.names),g(d.namesAbbr)],a._upperMonthsGen=j=[g(e.names),g(e.namesAbbr)]),b=f(b);var k=h(c?i[1]:i[0],b);return 0>k&&(k=h(c?j[1]:j[0],b)),k},d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=s(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=v();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=r(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}r(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},e=function(a,b,c){return b>a||a>c},f=function(a){return a.split(" ").join(" ").toUpperCase()},g=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=f(a[c]);return b},y=function(f,g,h){f=o(f);var i=h.calendar,j=d(i,g),k=new RegExp(j.regExp).exec(f);if(null===k)return null;for(var l,m=j.groups,p=null,q=null,r=null,s=null,t=null,u=0,v=0,w=0,x=0,y=null,z=!1,A=0,B=m.length;B>A;A++){var C=k[A+1];if(C){var D=m[A],E=D.length,F=parseInt(C,10);switch(D){case"dd":case"d":if(s=F,e(s,1,31))return null;break;case"MMM":case"MMMM":if(r=c(i,C,3===E),e(r,0,11))return null;break;case"M":case"MM":if(r=F-1,e(r,0,11))return null;break;case"y":case"yy":case"yyyy":if(q=4>E?a(i,F):F,e(q,0,9999))return null;break;case"h":case"hh":if(u=F,12===u&&(u=0),e(u,0,11))return null;break;case"H":case"HH":if(u=F,e(u,0,23))return null;break;case"m":case"mm":if(v=F,e(v,0,59))return null;break;case"s":case"ss":if(w=F,e(w,0,59))return null;break;case"tt":case"t":if(z=i.PM&&(C===i.PM[0]||C===i.PM[1]||C===i.PM[2]),!z&&(!i.AM||C!==i.AM[0]&&C!==i.AM[1]&&C!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(x=F*Math.pow(10,3-E),e(x,0,999))return null;break;case"ddd":case"dddd":if(t=b(i,C,3===E),e(t,0,6))return null;break;case"zzz":var G=C.split(/:/);if(2!==G.length)return null;if(l=parseInt(G[0],10),e(l,-12,13))return null;var H=parseInt(G[1],10);if(e(H,0,59))return null;y=60*l+(n(C,"-")?-H:H);break;case"z":case"zz":if(l=F,e(l,-12,13))return null;y=60*l;break;case"g":case"gg":var I=C;if(!I||!i.eras)return null;I=o(I.toLowerCase());for(var J=0,K=i.eras.length;K>J;J++)if(I===i.eras[J].name.toLowerCase()){p=J;break}if(null===p)return null}}}var L,M=new Date,N=i.convert;if(L=N?N.fromGregorian(M)[0]:M.getFullYear(),null===q?q=L:i.eras&&(q+=i.eras[p||0].offset),null===r&&(r=0),null===s&&(s=1),N){if(M=N.toGregorian(q,r,s),null===M)return null}else{if(M.setFullYear(q,r,s),M.getDate()!==s)return null;if(null!==t&&M.getDay()!==t)return null}if(z&&12>u&&(u+=12),M.setHours(u,v,w,x),null!==y){var O=M.getMinutes()-(y+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(O/60,10),O%60)}return M}}(),z=function(a,b,c){var d,e=b["-"],f=b["+"];switch(c){case"n -":e=" "+e,f=" "+f;case"n-":i(a,e)?d=["-",a.substr(0,a.length-e.length)]:i(a,f)&&(d=["+",a.substr(0,a.length-f.length)]);break;case"- n":e+=" ",f+=" ";case"-n":n(a,e)?d=["-",a.substr(e.length)]:n(a,f)&&(d=["+",a.substr(f.length)]);break;case"(n)":n(a,"(")&&i(a,")")&&(d=["-",a.substr(1,a.length-2)])}return d||["",a]},c.prototype.findClosestCulture=function(a){return c.findClosestCulture.call(this,a)},c.prototype.format=function(a,b,d){return c.format.call(this,a,b,d)},c.prototype.localize=function(a,b){return c.localize.call(this,a,b)},c.prototype.parseInt=function(a,b,d){return c.parseInt.call(this,a,b,d)},c.prototype.parseFloat=function(a,b,d){return c.parseFloat.call(this,a,b,d)},c.prototype.culture=function(a){return c.culture.call(this,a)},c.addCultureInfo=function(a,b,c){var d={},e=!1;"string"!=typeof a?(c=a,a=this.culture().name,d=this.cultures[a]):"string"!=typeof b?(c=b,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]),this.cultures[a]=j(!0,{},d,c),e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)},c.findClosestCulture=function(a){var b;if(!a)return this.cultures[this.cultureSelector]||this.cultures["default"];if("string"==typeof a&&(a=a.split(",")),k(a)){var c,d,e=this.cultures,f=a,g=f.length,h=[];for(d=0;g>d;d++){a=o(f[d]);var i,j=a.split(";");c=o(j[0]),1===j.length?i=1:(a=o(j[1]),0===a.indexOf("q=")?(a=a.substr(2),i=parseFloat(a),i=isNaN(i)?0:i):i=1),h.push({lang:c,pri:i})}for(h.sort(function(a,b){return a.pri<b.pri?1:-1}),d=0;g>d;d++)if(c=h[d].lang,b=e[c])return b;for(d=0;g>d;d++)for(c=h[d].lang;;){var l=c.lastIndexOf("-");if(-1===l)break;if(c=c.substr(0,l),b=e[c])return b}for(d=0;g>d;d++){c=h[d].lang;for(var m in e){var n=e[m];if(n.language==c)return n}}}else if("object"==typeof a)return a;return b||null},c.format=function(a,b,c){return culture=this.findClosestCulture(c),a instanceof Date?a=t(a,b,culture):"number"==typeof a&&(a=u(a,b,culture)),a},c.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]},c.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e,f;if(b){if("string"==typeof b&&(b=[b]),b.length)for(var g=0,h=b.length;h>g;g++){var i=b[g];if(i&&(d=y(a,i,c)))break}}else{f=c.calendar.patterns;for(e in f)if(d=y(a,f[e],c))break}return d||null},c.parseInt=function(a,b,d){return p(c.parseFloat(a,b,d))},c.parseFloat=function(a,b,c){"number"!=typeof b&&(c=b,b=10);var g=this.findClosestCulture(c),h=0/0,i=g.numberFormat;if(a.indexOf(g.numberFormat.currency.symbol)>-1&&(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."])),a=o(a),e.test(a))h=parseFloat(a);else if(!b&&d.test(a))h=parseInt(a,16);else{var j=z(a,i,i.pattern[0]),k=j[0],l=j[1];""===k&&"(n)"!==i.pattern[0]&&(j=z(a,i,"(n)"),k=j[0],l=j[1]),""===k&&"-n"!==i.pattern[0]&&(j=z(a,i,"-n"),k=j[0],l=j[1]),k=k||"+";var m,n,p=l.indexOf("e");0>p&&(p=l.indexOf("E")),0>p?(n=l,m=null):(n=l.substr(0,p),m=l.substr(p+1));var q,r,s=i["."],t=n.indexOf(s);0>t?(q=n,r=null):(q=n.substr(0,t),r=n.substr(t+s.length));var u=i[","];q=q.split(u).join("");var v=u.replace(/\u00A0/g," ");u!==v&&(q=q.split(v).join(""));var w=k+q;if(null!==r&&(w+="."+r),null!==m){var x=z(m,i,"-n");w+="e"+(x[0]||"+")+x[1]}f.test(w)&&(h=parseFloat(w))}return h},c.culture=function(a){return"undefined"!=typeof a&&(this.cultureSelector=a),this.findClosestCulture(a)||this.culture["default"]}}(this),function(a){var b;b="undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?require("globalize"):a.Globalize,b.addCultureInfo("de-DE","default",{name:"de-DE",englishName:"German (Germany)",nativeName:"Deutsch (Deutschland)",language:"de",numberFormat:{",":".",".":",",NaN:"n. def.",negativeInfinity:"-unendlich",positiveInfinity:"+unendlich",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"€"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}})}(this);var YUIAssertionError=function(a){this.message=a,this.name="Assert Error"};YUIAssertionError.prototype={constructor:YUIAssertionError,getMessage:function(){return this.message},toString:function(){return this.name+": "+this.getMessage()}};var YUIComparisonFailure=function(a,b,c){YUIAssertionError.call(this,a),this.expected=b,this.actual=c,this.name="ComparisonFailure"};YUIComparisonFailure.prototype=new YUIAssertionError,YUIComparisonFailure.prototype.constructor=YUIComparisonFailure,YUIComparisonFailure.prototype.getMessage=function(){return this.message+"\nExpected: "+this.expected+" ("+typeof this.expected+")\nActual: "+this.actual+" ("+typeof this.actual+")"};var YUIUnexpectedValue=function(a,b){YUIAssertionError.call(this,a),this.unexpected=b,this.name="UnexpectedValue"};YUIUnexpectedValue.prototype=new YUIAssertionError,YUIUnexpectedValue.prototype.constructor=YUIUnexpectedValue,YUIUnexpectedValue.prototype.getMessage=function(){return this.message+"\nUnexpected: "+this.unexpected+" ("+typeof this.unexpected+") "};var YUIAssert={_formatMessage:function(a,b){return"string"==typeof a&&a.length>0?a.replace("{message}",b):b},fail:function(a){throw new YUIAssertionError(YUIAssert._formatMessage(a,"Test force-failed."))},areEqual:function(a,b,c){if(a!=b)throw new YUIComparisonFailure(YUIAssert._formatMessage(c,"Values should be equal."),a,b)},areNotEqual:function(a,b,c){if(a==b)throw new YUIUnexpectedValue(YUIAssert._formatMessage(c,"Values should not be equal."),a)},areNotSame:function(a,b,c){if(a===b)throw new YUIUnexpectedValue(YUIAssert._formatMessage(c,"Values should not be the same."),a)},areSame:function(a,b,c){if(a!==b)throw new YUIComparisonFailure(YUIAssert._formatMessage(c,"Values should be the same."),a,b)},isFalse:function(a,b){if(!1!==a)throw new YUIComparisonFailure(YUIAssert._formatMessage(b,"Value should be false."),!1,a)},isTrue:function(a,b){if(!0!==a)throw new YUIComparisonFailure(YUIAssert._formatMessage(b,"Value should be true."),!0,a)},isNaN:function(a,b){if(!isNaN(a))throw new YUIComparisonFailure(YUIAssert._formatMessage(b,"Value should be NaN."),0/0,a)},isNotNaN:function(a,b){if(isNaN(a))throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Values should not be NaN."),0/0)},isNotNull:function(a,b){if(null===a)throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Values should not be null."),null)},isNotUndefined:function(a,b){if("undefined"==typeof a)throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should not be undefined."),void 0)},isNull:function(a,b){if(null!==a)throw new YUIComparisonFailure(YUIAssert._formatMessage(b,"Value should be null."),null,a)},isUndefined:function(a,b){if("undefined"!=typeof a)throw new YUIComparisonFailure(YUIAssert._formatMessage(b,"Value should be undefined."),void 0,a)},isArray:function(a,b){var c=!1;if(c=Array.isArray?!Array.isArray(a):"[object Array]"!=Object.prototype.toString.call(a))throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should be an array."),a)},isBoolean:function(a,b){if("boolean"!=typeof a)throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should be a Boolean."),a)},isFunction:function(a,b){if(!(a instanceof Function))throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should be a function."),a)},isInstanceOf:function(a,b,c){if(!(b instanceof a))throw new YUIComparisonFailure(YUIAssert._formatMessage(c,"Value isn't an instance of expected type."),a,b)},isNumber:function(a,b){if("number"!=typeof a)throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should be a number."),a)},isObject:function(a,b){if(!a||"object"!=typeof a&&"function"!=typeof a)throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should be an object."),a)},isString:function(a,b){if("string"!=typeof a)throw new YUIUnexpectedValue(YUIAssert._formatMessage(b,"Value should be a string."),a)},isTypeOf:function(a,b,c){if(typeof b!=a)throw new YUIComparisonFailure(YUIAssert._formatMessage(c,"Value should be of type "+a+"."),a,typeof b)},throwsError:function(a,b,c){var d=!1;try{b()}catch(e){if("string"==typeof a?e.message!=a&&(d=!0):"function"==typeof a?e instanceof a||(d=!0):"object"==typeof a&&null!==a?e instanceof a.constructor&&e.message==a.message||(d=!0):d=!0,d)throw new YUIUnexpectedError(e);return}throw new YUIAssertionError(YUIAssert._formatMessage(c,"Error should have been thrown."))}};!function(a){var b=null!=window.orientation,c=a.browser.opera||a.browser.mozilla&&parseFloat(a.browser.version.substr(0,3))<1.9?"input":"paste",d=function(b){b=a.event.fix(b||window.event),b.type="paste";var c=b.target;setTimeout(function(){a.event.dispatch.call(c,b)},1)};a.event.special.paste={setup:function(){this.addEventListener?this.addEventListener(c,d,!1):this.attachEvent&&this.attachEvent("on"+c,d)},teardown:function(){this.removeEventListener?this.removeEventListener(c,d,!1):this.detachEvent&&this.detachEvent("on"+c,d)}},a.extend({mask:{rules:{z:/[a-z]/,Z:/[A-Z]/,a:/[a-zA-Z]/,"*":/[0-9a-zA-Z]/,"@":/[0-9a-zA-ZçÇáàãâéèêíìóòôõúùü]/},keyRepresentation:{8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"alt",27:"esc",33:"page up",34:"page down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",116:"f5",123:"f12",224:"command"},iphoneKeyRepresentation:{10:"go",127:"delete"},signals:{"+":"","-":"-"},options:{attr:"alt",mask:null,type:"fixed",maxLength:-1,defaultValue:"",signal:!1,textAlign:!0,selectCharsOnFocus:!0,autoTab:!0,setSize:!1,fixedChars:"[(),.:/ -]",onInvalid:function(){},onValid:function(){},onOverflow:function(){}},masks:{phone:{mask:"(99) 9999-9999"},"phone-us":{mask:"(999) 999-9999"},cpf:{mask:"999.999.999-99"},cnpj:{mask:"99.999.999/9999-99"},date:{mask:"39/19/9999"},"date-us":{mask:"19/39/9999"},cep:{mask:"99999-999"},time:{mask:"29:59"},cc:{mask:"9999 9999 9999 9999"},integer:{mask:"999.999.999.999",type:"reverse"},decimal:{mask:"99,999.999.999.999",type:"reverse",defaultValue:"000"},"decimal-us":{mask:"99.999,999,999,999",type:"reverse",defaultValue:"000"},"signed-decimal":{mask:"99,999.999.999.999",type:"reverse",defaultValue:"+000"},"signed-decimal-us":{mask:"99,999.999.999.999",type:"reverse",defaultValue:"+000"}},init:function(){if(!this.hasInit){var c,d=this,e=b?this.iphoneKeyRepresentation:this.keyRepresentation;for(this.ignore=!1,c=0;9>=c;c++)this.rules[c]=new RegExp("[0-"+c+"]");this.keyRep=e,this.ignoreKeys=[],a.each(e,function(a){d.ignoreKeys.push(parseInt(a,10))}),this.hasInit=!0}},set:function(b,c){var d=this,e=a(b),f="maxLength";return c=c||{},this.init(),e.each(function(){c.attr&&(d.options.attr=c.attr);var b=a(this),e=a.extend({},d.options),g=b.attr(e.attr),h="";if(h="string"==typeof c?c:""!==g?g:null,h&&(e.mask=h),d.masks[h]&&(e=a.extend(e,d.masks[h])),"object"==typeof c&&c.constructor!=Array&&(e=a.extend(e,c)),a.metadata&&(e=a.extend(e,b.metadata())),null!=e.mask){e.mask+="",b.data("mask")&&d.unset(b);var i=e.defaultValue,j="reverse"===e.type,k=new RegExp(e.fixedChars,"g");if(-1===e.maxLength&&(e.maxLength=b.attr(f)),e=a.extend({},e,{fixedCharsReg:new RegExp(e.fixedChars),fixedCharsRegG:k,maskArray:e.mask.split(""),maskNonFixedCharsArray:e.mask.replace(k,"").split("")}),"fixed"!=e.type&&!j||!e.setSize||b.attr("size")||b.attr("size",e.mask.length),j&&e.textAlign&&b.css("text-align","right"),""!==this.value||""!==i){var l=d.string(""!==this.value?this.value:i,e);this.defaultValue=l,b.val(l)}"infinite"==e.type&&(e.type="repeat"),b.data("mask",e),b.removeAttr(f),b.bind("keydown.mask",{func:d._onKeyDown,thisObj:d},d._onMask).bind("keypress.mask",{func:d._onKeyPress,thisObj:d},d._onMask).bind("keyup.mask",{func:d._onKeyUp,thisObj:d},d._onMask).bind("paste.mask",{func:d._onPaste,thisObj:d},d._onMask).bind("focus.mask",d._onFocus).bind("blur.mask",d._onBlur).bind("change.mask",d._onChange)}})},unset:function(b){var c=a(b);return c.each(function(){var b=a(this);if(b.data("mask")){var c=b.data("mask").maxLength;-1!=c&&b.attr("maxLength",c),b.unbind(".mask").removeData("mask")}})},string:function(b,c){this.init();var d={};switch("string"!=typeof b&&(b=String(b)),typeof c){case"string":this.masks[c]?d=a.extend(d,this.masks[c]):d.mask=c;break;case"object":d=c}d.fixedChars||(d.fixedChars=this.options.fixedChars);var e=new RegExp(d.fixedChars),f=new RegExp(d.fixedChars,"g");if("reverse"===d.type&&d.defaultValue&&"undefined"!=typeof this.signals[d.defaultValue.charAt(0)]){var g=b.charAt(0);d.signal="undefined"!=typeof this.signals[g]?this.signals[g]:this.signals[d.defaultValue.charAt(0)],d.defaultValue=d.defaultValue.substring(1)}return this.__maskArray(b.split(""),d.mask.replace(f,"").split(""),d.mask.split(""),d.type,d.maxLength,d.defaultValue,e,d.signal)},_onFocus:function(){var b=a(this),c=b.data("mask");c.inputFocusValue=b.val(),c.changed=!1,c.selectCharsOnFocus&&b.select()},_onBlur:function(){var b=a(this),c=b.data("mask");c.inputFocusValue==b.val()||c.changed||b.trigger("change")},_onChange:function(){a(this).data("mask").changed=!0},_onMask:function(b){var c=b.data.thisObj,d={};return d._this=b.target,d.$this=a(d._this),d.data=d.$this.data("mask"),d.$this.attr("readonly")||!d.data?!0:(d[d.data.type]=!0,d.value=d.$this.val(),d.nKey=c.__getKeyNumber(b),d.range=c.__getRange(d._this),d.valueArray=d.value.split(""),b.data.func.call(c,b,d))},_onKeyDown:function(c,d){if(this.ignore=a.inArray(d.nKey,this.ignoreKeys)>-1||c.ctrlKey||c.metaKey||c.altKey,this.ignore){var e=this.keyRep[d.nKey];d.data.onValid.call(d._this,e||"",d.nKey)}return b?this._onKeyPress(c,d):!0},_onKeyUp:function(a,b){return 9===b.nKey||16===b.nKey?!0:b.repeat?(this.__autoTab(b),!0):this._onPaste(a,b)},_onPaste:function(b,c){c.reverse&&this.__changeSignal(b.type,c);var d=this.__maskArray(c.valueArray,c.data.maskNonFixedCharsArray,c.data.maskArray,c.data.type,c.data.maxLength,c.data.defaultValue,c.data.fixedCharsReg,c.data.signal);return c.$this.val(d),!c.reverse&&c.data.defaultValue.length&&c.range.start===c.range.end&&this.__setRange(c._this,c.range.start,c.range.end),!a.browser.msie&&!a.browser.safari||c.reverse||this.__setRange(c._this,c.range.start,c.range.end),this.ignore?!0:(this.__autoTab(c),!0)},_onKeyPress:function(a,b){if(this.ignore)return!0;b.reverse&&this.__changeSignal(a.type,b);var c=String.fromCharCode(b.nKey),d=b.range.start,e=b.value,f=b.data.maskArray;if(b.reverse){var g=e.substr(0,d),h=e.substr(b.range.end,e.length);e=g+c+h,b.data.signal&&d-b.data.signal.length>0&&(d-=b.data.signal.length)}var i=e.replace(b.data.fixedCharsRegG,"").split(""),j=this.__extraPositionsTill(d,f,b.data.fixedCharsReg);if(b.rsEp=d+j,b.repeat&&(b.rsEp=0),!this.rules[f[b.rsEp]]||-1!=b.data.maxLength&&i.length>=b.data.maxLength&&b.repeat)return b.data.onOverflow.call(b._this,c,b.nKey),!1;if(!this.rules[f[b.rsEp]].test(c))return b.data.onInvalid.call(b._this,c,b.nKey),!1;b.data.onValid.call(b._this,c,b.nKey);var k=this.__maskArray(i,b.data.maskNonFixedCharsArray,f,b.data.type,b.data.maxLength,b.data.defaultValue,b.data.fixedCharsReg,b.data.signal,j);return b.repeat||b.$this.val(k),b.reverse?this._keyPressReverse(a,b):b.fixed?this._keyPressFixed(a,b):!0},_keyPressFixed:function(a,b){return b.range.start==b.range.end?(0===b.rsEp&&0===b.value.length||b.rsEp<b.value.length)&&this.__setRange(b._this,b.rsEp,b.rsEp+1):this.__setRange(b._this,b.range.start,b.range.end),!0},_keyPressReverse:function(b,c){return a.browser.msie&&(0===c.range.start&&0===c.range.end||c.range.start!=c.range.end)&&this.__setRange(c._this,c.value.length),!1},__autoTab:function(a){if(a.data.autoTab&&(a.$this.val().length>=a.data.maskArray.length&&!a.repeat||-1!=a.data.maxLength&&a.valueArray.length>=a.data.maxLength&&a.repeat)){var b=this.__getNextInput(a._this,a.data.autoTab);b&&(a.$this.trigger("blur"),b.focus().select())}},__changeSignal:function(a,b){if(b.data.signal!==!1){var c="paste"===a?b.value.charAt(0):String.fromCharCode(b.nKey);this.signals&&"undefined"!=typeof this.signals[c]&&(b.data.signal=this.signals[c])}},__getKeyNumber:function(a){return a.charCode||a.keyCode||a.which},__maskArray:function(a,b,c,d,e,f,g,h,i){switch("reverse"===d&&a.reverse(),a=this.__removeInvalidChars(a,b,"repeat"===d||"infinite"===d),f&&(a=this.__applyDefaultValue.call(a,f)),a=this.__applyMask(a,c,i,g),d){case"reverse":return a.reverse(),(h||"")+a.join("").substring(a.length-c.length);case"infinite":case"repeat":var j=a.join("");return-1!==e&&a.length>=e?j.substring(0,e):j;default:return a.join("").substring(0,c.length)}return""},__applyDefaultValue:function(a){var b,c=a.length,d=this.length;for(b=d-1;b>=0&&this[b]==a.charAt(0);b--)this.pop();for(b=0;c>b;b++)this[b]||(this[b]=a.charAt(b));return this},__removeInvalidChars:function(a,b,c){for(var d=0,e=0;d<a.length;d++)b[e]&&this.rules[b[e]]&&!this.rules[b[e]].test(a[d])&&(a.splice(d,1),c||e--,d--),c||e++;return a},__applyMask:function(a,b,c,d){"undefined"==typeof c&&(c=0);for(var e=0;e<a.length+c;e++)b[e]&&d.test(b[e])&&a.splice(e,0,b[e]);return a},__extraPositionsTill:function(a,b,c){for(var d=0;c.test(b[a++]);)d++;return d},__getNextInput:function(b,c){var d=b.form;if(null==d)return null;var e,f=d.elements,g=a.inArray(b,f)+1,h=f.length,i=null;for(e=g;h>e;e++)if(i=a(f[e]),this.__isNextInput(i,c))return i;var j,k,l=document.forms,m=a.inArray(b.form,l)+1,n=l.length;for(j=m;n>j;j++)for(k=l[j].elements,h=k.length,e=0;h>e;e++)if(i=a(k[e]),this.__isNextInput(i,c))return i;return null},__isNextInput:function(a,b){var c=a.get(0);return c&&(c.offsetWidth>0||c.offsetHeight>0)&&"FIELDSET"!=c.nodeName&&(b===!0||"string"==typeof b&&a.is(b))},__setRange:function(a,b,c){if("undefined"==typeof c&&(c=b),a.setSelectionRange)a.setSelectionRange(b,c);else{var d=a.createTextRange();d.collapse(),d.moveStart("character",b),d.moveEnd("character",c-b),d.select()}},__getRange:function(b){if(!a.browser.msie)return{start:b.selectionStart,end:b.selectionEnd};var c={start:0,end:0},d=document.selection.createRange();return c.start=0-d.duplicate().moveStart("character",-1e5),c.end=c.start+d.text.length,c},unmaskedVal:function(b){return a(b).val().replace(a.mask.fixedCharsRegG,"")}}}),a.fn.extend({setMask:function(b){return a.mask.set(this,b)},unsetMask:function(){return a.mask.unset(this)},unmaskedVal:function(){return a.mask.unmaskedVal(this[0])}})}(jQuery),function(a){function b(){var a=document.createElement("input"),b="onpaste";return a.setAttribute(b,""),"function"==typeof a[b]?"paste":"input"}var c,d=b()+".mask",e=navigator.userAgent,f=/iphone/i.test(e),g=/android/i.test(e);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(b,e){var h,i,j,k,l,m;return!b&&this.length>0?(h=a(this[0]),h.data(a.mask.dataName)()):(e=a.extend({placeholder:a.mask.placeholder,completed:null},e),i=a.mask.definitions,j=[],k=m=b.length,l=null,a.each(b.split(""),function(a,b){"?"==b?(m--,k=a):i[b]?(j.push(RegExp(i[b])),null===l&&(l=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(a){for(;m>++a&&!j[a];);return a}function n(a){for(;--a>=0&&!j[a];);return a}function o(a,b){var c,d;if(!(0>a)){for(c=a,d=h(b);m>c;c++)if(j[c]){if(!(m>d&&j[c].test(w[d])))break;w[c]=w[d],w[d]=e.placeholder,d=h(d)}t(),v.caret(Math.max(l,a))}}function p(a){var b,c,d,f;for(b=a,c=e.placeholder;m>b;b++)if(j[b]){if(d=h(b),f=w[b],w[b]=c,!(m>d&&j[d].test(f)))break;c=f}}function q(a){var b,c,d,e=a.which;8===e||46===e||f&&127===e?(b=v.caret(),c=b.begin,d=b.end,0===d-c&&(c=46!==e?n(c):d=h(c-1),d=46===e?h(d):d),s(c,d),o(c,d-1),a.preventDefault()):27==e&&(v.val(x),v.caret(0,u()),a.preventDefault())}function r(b){var c,d,f,i=b.which,k=v.caret();b.ctrlKey||b.altKey||b.metaKey||32>i||i&&(0!==k.end-k.begin&&(s(k.begin,k.end),o(k.begin,k.end-1)),c=h(k.begin-1),m>c&&(d=String.fromCharCode(i),j[c].test(d)&&(p(c),w[c]=d,t(),f=h(c),g?setTimeout(a.proxy(a.fn.caret,v,f),0):v.caret(f),e.completed&&f>=m&&e.completed.call(v))),b.preventDefault())}function s(a,b){var c;for(c=a;b>c&&m>c;c++)j[c]&&(w[c]=e.placeholder)}function t(){v.val(w.join(""))}function u(a){var b,c,d=v.val(),f=-1;for(b=0,pos=0;m>b;b++)if(j[b]){for(w[b]=e.placeholder;pos++<d.length;)if(c=d.charAt(pos-1),j[b].test(c)){w[b]=c,f=b;
break}if(pos>d.length)break}else w[b]===d.charAt(pos)&&b!==k&&(pos++,f=b);return a?t():k>f+1?(v.val(""),s(0,m)):(t(),v.val(v.val().substring(0,f+1))),k?b:l}var v=a(this),w=a.map(b.split(""),function(a){return"?"!=a?i[a]?e.placeholder:a:void 0}),x=v.val();v.data(a.mask.dataName,function(){return a.map(w,function(a,b){return j[b]&&a!=e.placeholder?a:null}).join("")}),v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){clearTimeout(c);var a;x=v.val(),a=u(),c=setTimeout(function(){t(),a==b.length?v.caret(0,a):v.caret(a)},10)}).bind("blur.mask",function(){u(),v.val()!=x&&v.change()}).bind("keydown.mask",q).bind("keypress.mask",r).bind(d,function(){setTimeout(function(){var a=u(!0);v.caret(a),e.completed&&a==v.val().length&&e.completed.call(v)},0)}),u()}))}})}(jQuery),function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])}if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.1.1"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(a,b){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],a,b,tp_inst):void 0},onChangeMonthYear:function(a,b,c){tp_inst._updateDateTime(c),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],a,b,c,tp_inst)},onClose:function(a,b){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(b),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],a,b,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);if(tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(a){return a.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(a){return a.toUpperCase()}),"string"==typeof tp_inst._defaults.controlType?(void 0===$.fn[tp_inst._defaults.controlType]&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType,null===tp_inst._defaults.timezoneList){var timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"];tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(a){return"+0000"==a?"Z":a.substring(0,3)+":"+a.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}return tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(a){var b=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(b),this._limitMinMaxDateTime(a,!1),this._injectTimePicker()},_parseTime:function(a,b){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),b||!this._defaults.timeOnly){var c=$.datepicker._get(this.inst,"dateFormat");try{var d=parseDateTimeInternal(c,this._defaults.timeFormat,a,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!d.timeObj)return!1;$.extend(this,d.timeObj)}catch(e){return $.datepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+a+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+c),!1}return!0}var f=$.datepicker.parseTime(this._defaults.timeFormat,a,this._defaults);return f?($.extend(this,f),!0):!1},_injectTimePicker:function(){var a=this.inst.dpDiv,b=this.inst.settings,c=this,d="",e="",f={},g={},h=null;if(0===a.find("div.ui-timepicker-div").length&&b.showTimepicker){for(var i=' style="display:none;"',j='<div class="ui-timepicker-div'+(b.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(b.showTime?"":i)+">"+b.timeText+'</dt><dd class="ui_tpicker_time"'+(b.showTime?"":i)+"></dd>",k=0,l=this.units.length;l>k;k++){if(d=this.units[k],e=d.substr(0,1).toUpperCase()+d.substr(1),f[d]=parseInt(b[d+"Max"]-(b[d+"Max"]-b[d+"Min"])%b["step"+e],10),g[d]=0,j+='<dt class="ui_tpicker_'+d+'_label"'+(b["show"+e]?"":i)+">"+b[d+"Text"]+'</dt><dd class="ui_tpicker_'+d+'"><div class="ui_tpicker_'+d+'_slider"'+(b["show"+e]?"":i)+"></div>",b["show"+e]&&b[d+"Grid"]>0){if(j+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"==d)for(var m=b[d+"Min"];m<=f[d];m+=parseInt(b[d+"Grid"],10)){g[d]++;var n=$.datepicker.formatTime(useAmpm(b.pickerTimeFormat||b.timeFormat)?"hht":"HH",{hour:m},b);j+='<td data-for="'+d+'">'+n+"</td>"}else for(var o=b[d+"Min"];o<=f[d];o+=parseInt(b[d+"Grid"],10))g[d]++,j+='<td data-for="'+d+'">'+(10>o?"0":"")+o+"</td>";j+="</tr></table></div>"}j+="</dd>"}j+='<dt class="ui_tpicker_timezone_label"'+(b.showTimezone?"":i)+">"+b.timezoneText+"</dt>",j+='<dd class="ui_tpicker_timezone" '+(b.showTimezone?"":i)+"></dd>",j+="</dl></div>";var p=$(j);b.timeOnly===!0&&(p.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+b.timeOnlyTitle+"</div></div>"),a.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());for(var k=0,l=c.units.length;l>k;k++)d=c.units[k],e=d.substr(0,1).toUpperCase()+d.substr(1),c[d+"_slider"]=c.control.create(c,p.find(".ui_tpicker_"+d+"_slider"),d,c[d],b[d+"Min"],f[d],b["step"+e]),b["show"+e]&&b[d+"Grid"]>0&&(h=100*g[d]*b[d+"Grid"]/(f[d]-b[d+"Min"]),p.find(".ui_tpicker_"+d+" table").css({width:h+"%",marginLeft:b.isRTL?"0":h/(-2*g[d])+"%",marginRight:b.isRTL?h/(-2*g[d])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var a=$(this),b=a.html(),e=parseInt(b.replace(/[^0-9]/g),10),f=b.replace(/[^apm]/gi),g=a.data("for");"hour"==g&&(-1!==f.indexOf("p")&&12>e?e+=12:-1!==f.indexOf("a")&&12===e&&(e=0)),c.control.value(c,c[g+"_slider"],d,e),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/g[d]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=p.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(b.timezoneList,function(a){return $("<option />").val("object"==typeof a?a.value:a).text("object"==typeof a?a.label:a)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var q=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),r=$.timepicker.timeZoneOffsetString(q);r==this.timezone?selectLocalTimeZone(c):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(b.defaultTimezone):selectLocalTimeZone(c);this.timezone_select.change(function(){c._defaults.useLocalTimezone=!1,c._onTimeChange()});var s=a.find(".ui-datepicker-buttonpane");if(s.length?s.before(p):a.append(p),this.$timeObj=p.find(".ui_tpicker_time"),null!==this.inst){var t=this.timeDefined;this._onTimeChange(),this.timeDefined=t}if(this._defaults.addSliderAccess){var u=this._defaults.sliderAccessArgs,v=this._defaults.isRTL;u.isRTL=v,setTimeout(function(){if(0===p.find(".ui-slider-access").length){p.find(".ui-slider:visible").sliderAccess(u);var a=p.find(".ui-slider-access:eq(0)").outerWidth(!0);a&&p.find("table:visible").each(function(){var b=$(this),c=b.outerWidth(),d=b.css(v?"marginRight":"marginLeft").toString().replace("%",""),e=c-a,f=d*e/c+"%",g={width:e,marginRight:0,marginLeft:0};g[v?"marginRight":"marginLeft"]=f,b.css(g)})}},10)}}},_limitMinMaxDateTime:function(a,b){var c=this._defaults,d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(a,"minDateTime")&&void 0!==$.datepicker._get(a,"minDateTime")&&d){var e=$.datepicker._get(a,"minDateTime"),f=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal)&&(this.hourMinOriginal=c.hourMin,this.minuteMinOriginal=c.minuteMin,this.secondMinOriginal=c.secondMin,this.millisecMinOriginal=c.millisecMin),a.settings.timeOnly||f.getTime()==d.getTime()?(this._defaults.hourMin=e.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=e.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=e.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=e.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if(null!==$.datepicker._get(a,"maxDateTime")&&void 0!==$.datepicker._get(a,"maxDateTime")&&d){var g=$.datepicker._get(a,"maxDateTime"),h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal)&&(this.hourMaxOriginal=c.hourMax,this.minuteMaxOriginal=c.minuteMax,this.secondMaxOriginal=c.secondMax,this.millisecMaxOriginal=c.millisecMax),a.settings.timeOnly||h.getTime()==d.getTime()?(this._defaults.hourMax=g.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=g.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=g.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=g.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(void 0!==b&&b===!0){var i=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),j=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),k=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),l=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:i}),this.control.value(this,this.hour_slider,"hour",this.hour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:j}),this.control.value(this,this.minute_slider,"minute",this.minute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:k}),this.control.value(this,this.second_slider,"second",this.second)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:l}),this.control.value(this,this.millisec_slider,"millisec",this.millisec))}}},_onTimeChange:function(){var a=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,b=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,c=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,d=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,e=this.timezone_select?this.timezone_select.val():!1,f=this._defaults,g=f.pickerTimeFormat||f.timeFormat,h=f.pickerTimeSuffix||f.timeSuffix;"object"==typeof a&&(a=!1),"object"==typeof b&&(b=!1),"object"==typeof c&&(c=!1),"object"==typeof d&&(d=!1),"object"==typeof e&&(e=!1),a!==!1&&(a=parseInt(a,10)),b!==!1&&(b=parseInt(b,10)),c!==!1&&(c=parseInt(c,10)),d!==!1&&(d=parseInt(d,10));var i=f[12>a?"amNames":"pmNames"][0],j=a!=this.hour||b!=this.minute||c!=this.second||d!=this.millisec||this.ampm.length>0&&12>a!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null===this.timezone&&e!=this.defaultTimezone||null!==this.timezone&&e!=this.timezone;j&&(a!==!1&&(this.hour=a),b!==!1&&(this.minute=b),c!==!1&&(this.second=c),d!==!1&&(this.millisec=d),e!==!1&&(this.timezone=e),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),useAmpm(f.timeFormat)&&(this.ampm=i),this.formattedTime=$.datepicker.formatTime(f.timeFormat,this,f),this.$timeObj&&this.$timeObj.text(g===f.timeFormat?this.formattedTime+h:$.datepicker.formatTime(g,this,f)+h),this.timeDefined=!0,j&&this._updateDateTime()},_onSelectHandler:function(){var a=this._defaults.onSelect||this.inst.settings.onSelect,b=this.$input?this.$input[0]:null;a&&b&&a.apply(b,[this.formattedDateTime,this])},_updateDateTime:function(a){a=this.inst||a;var b=$.datepicker._daylightSavingAdjust(new Date(a.selectedYear,a.selectedMonth,a.selectedDay)),c=$.datepicker._get(a,"dateFormat"),d=$.datepicker._getFormatConfig(a),e=null!==b&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(c,null===b?new Date:b,d);var f=this.formattedDate;if(this._defaults.timeOnly===!0?f=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||e)&&(f+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=f,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(f);var g="",h=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,i=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;g=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===b?new Date:b,d):this.formattedDate,g&&(g+=h),g+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+i:this.formattedTime+i,this.$altInput.val(g)}else this.$input.val(f);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var a=$.datepicker._getInst(this.$input.get(0)),b=$.datepicker._get(a,"timepicker");if(b&&b._defaults.timeOnly&&a.input.val()!=a.lastVal)try{$.datepicker._updateDatepicker(a)}catch(c){$.datepicker.log(c)}}},_controls:{slider:{create:function(a,b,c,d,e,f,g){var h=a._defaults.isRTL;return b.prop("slide",null).slider({orientation:"horizontal",value:h?-1*d:d,min:h?-1*f:e,max:h?-1*e:f,step:g,slide:function(b,d){a.control.value(a,$(this),c,h?-1*d.value:d.value),a._onTimeChange()},stop:function(){a._onSelectHandler()}})},options:function(a,b,c,d,e){if(a._defaults.isRTL){if("string"==typeof d)return"min"==d||"max"==d?void 0!==e?b.slider(d,-1*e):Math.abs(b.slider(d)):b.slider(d);var f=d.min,g=d.max;return d.min=d.max=null,void 0!==f&&(d.max=-1*f),void 0!==g&&(d.min=-1*g),b.slider(d)}return"string"==typeof d&&void 0!==e?b.slider(d,e):b.slider(d)},value:function(a,b,c,d){return a._defaults.isRTL?void 0!==d?b.slider("value",-1*d):Math.abs(b.slider("value")):void 0!==d?b.slider("value",d):b.slider("value")}},select:{create:function(a,b,c,d,e,f,g){for(var h='<select class="ui-timepicker-select" data-unit="'+c+'" data-min="'+e+'" data-max="'+f+'" data-step="'+g+'">',i=(-1!==a._defaults.timeFormat.indexOf("t")?"toLowerCase":"toUpperCase",e);f>=i;i+=g)h+='<option value="'+i+'"'+(i==d?" selected":"")+">",h+="hour"==c&&useAmpm(a._defaults.pickerTimeFormat||a._defaults.timeFormat)?$.datepicker.formatTime("hh TT",{hour:i},a._defaults):"millisec"==c||i>=10?i:"0"+i.toString(),h+="</option>";return h+="</select>",b.children("select").remove(),$(h).appendTo(b).change(function(){a._onTimeChange(),a._onSelectHandler()}),b},options:function(a,b,c,d,e){var f={},g=b.children("select");if("string"==typeof d){if(void 0===e)return g.data(d);f[d]=e}else f=d;return a.control.create(a,b,g.data("unit"),g.val(),f.min||g.data("min"),f.max||g.data("max"),f.step||g.data("step"))},value:function(a,b,c,d){var e=b.children("select");return void 0!==d?e.val(d):e.val()}}}}),$.fn.extend({timepicker:function(a){a=a||{};var b=Array.prototype.slice.call(arguments);return"object"==typeof a&&(b[0]=$.extend(a,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),b)})},datetimepicker:function(a){a=a||{};var b=arguments;return"string"==typeof a?"getDate"==a?$.fn.datepicker.apply($(this[0]),b):this.each(function(){var a=$(this);a.datepicker.apply(a,b)}):this.each(function(){var b=$(this);b.datepicker($.timepicker._newInst(b,a)._defaults)})}}),$.datepicker.parseDateTime=function(a,b,c,d,e){var f=parseDateTimeInternal(a,b,c,d,e);if(f.timeObj){var g=f.timeObj;f.date.setHours(g.hour,g.minute,g.second,g.millisec)}return f.date},$.datepicker.parseTime=function(a,b,c){var d=extendRemove(extendRemove({},$.timepicker._defaults),c||{}),e=function(a,b,c){var d,e=function(a,b){var c=[];return a&&$.merge(c,a),b&&$.merge(c,b),c=$.map(c,function(a){return a.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+c.join("|")+")?"},f=function(a){var b=a.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),c={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(b)for(var d=0;d<b.length;d++)-1==c[b[d].toString().charAt(0)]&&(c[b[d].toString().charAt(0)]=d+1);return c},g="^"+a.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(a){switch(a.charAt(0).toLowerCase()){case"h":return"(\\d?\\d)";case"m":return"(\\d?\\d)";case"s":return"(\\d?\\d)";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return e(c.amNames,c.pmNames);default:return"("+a.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(a){return"\\"+a})+")?"}}).replace(/\s/g,"\\s?")+c.timeSuffix+"$",h=f(a),i="";d=b.match(new RegExp(g,"i"));var j={hour:0,minute:0,second:0,millisec:0};if(d){if(-1!==h.t&&(void 0===d[h.t]||0===d[h.t].length?(i="",j.ampm=""):(i=-1!==$.inArray(d[h.t].toUpperCase(),c.amNames)?"AM":"PM",j.ampm=c["AM"==i?"amNames":"pmNames"][0])),-1!==h.h&&(j.hour="AM"==i&&"12"==d[h.h]?0:"PM"==i&&"12"!=d[h.h]?parseInt(d[h.h],10)+12:Number(d[h.h])),-1!==h.m&&(j.minute=Number(d[h.m])),-1!==h.s&&(j.second=Number(d[h.s])),-1!==h.l&&(j.millisec=Number(d[h.l])),-1!==h.z&&void 0!==d[h.z]){var k=d[h.z].toUpperCase();switch(k.length){case 1:k=c.timezoneIso8601?"Z":"+0000";break;case 5:c.timezoneIso8601&&(k="0000"==k.substring(1)?"Z":k.substring(0,3)+":"+k.substring(3));break;case 6:c.timezoneIso8601?"00:00"==k.substring(1)&&(k="Z"):k="Z"==k||"00:00"==k.substring(1)?"+0000":k.replace(/:/,"")}j.timezone=k}return j}return!1},f=function(a,b,c){try{var d=new Date("2012-01-01 "+b);return{hour:d.getHours(),minutes:d.getMinutes(),seconds:d.getSeconds(),millisec:d.getMilliseconds(),timezone:$.timepicker.timeZoneOffsetString(d)}}catch(f){try{return e(a,b,c)}catch(g){$.datepicker.log("Unable to parse \ntimeString: "+b+"\ntimeFormat: "+a)}}return!1};return"function"==typeof d.parse?d.parse(a,b,d):"loose"===d.parse?f(a,b,d):e(a,b,d)},$.datepicker.formatTime=function(a,b,c){c=c||{},c=$.extend({},$.timepicker._defaults,c),b=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},b);var d=a,e=c.amNames[0],f=parseInt(b.hour,10);return f>11&&(e=c.pmNames[0]),d=d.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(a){switch(a){case"HH":return("0"+f).slice(-2);case"H":return f;case"hh":return("0"+convert24to12(f)).slice(-2);case"h":return convert24to12(f);case"mm":return("0"+b.minute).slice(-2);case"m":return b.minute;case"ss":return("0"+b.second).slice(-2);case"s":return b.second;case"l":return("00"+b.millisec).slice(-3);case"z":return null===b.timezone?c.defaultTimezone:b.timezone;case"T":return e.charAt(0).toUpperCase();case"TT":return e.toUpperCase();case"t":return e.charAt(0).toLowerCase();case"tt":return e.toLowerCase();default:return a.replace(/\'/g,"")||"'"}}),d=$.trim(d)},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(a,b){var c=this._getInst($(a)[0]),d=this._get(c,"timepicker");d?(d._limitMinMaxDateTime(c,!0),c.inline=c.stay_open=!0,this._base_selectDate(a,b),c.inline=c.stay_open=!1,this._notifyChange(c),this._updateDatepicker(c)):this._base_selectDate(a,b)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(a){var b=a.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!=a&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=b||"boolean"==typeof a.stay_open&&a.stay_open!==!1)){this._base_updateDatepicker(a);var c=this._get(a,"timepicker");if(c&&(c._addTimePicker(a),c._defaults.useLocalTimezone)){var d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay,12);selectLocalTimeZone(c,d),c._onTimeChange()}}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&$.datepicker._get(b,"constrainInput")){var d=useAmpm(c._defaults.timeFormat),e=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),f=c._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,d?"APM":"").replace(/Tt/g,d?"AaPpMm":"").replace(/tT/g,d?"AaPpMm":"").replace(/T/g,d?"AP":"").replace(/tt/g,d?"apm":"").replace(/t/g,d?"ap":"")+" "+c._defaults.separator+c._defaults.timeSuffix+(c._defaults.showTimezone?c._defaults.timezoneList.join(""):"")+c._defaults.amNames.join("")+c._defaults.pmNames.join("")+e,g=String.fromCharCode(void 0===a.charCode?a.keyCode:a.charCode);return a.ctrlKey||" ">g||!e||f.indexOf(g)>-1}return $.datepicker._base_doKeyPress(a)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(a){var b=this._get(a,"timepicker");if(b){var c=b._defaults.altField;if(c){var d=(b._defaults.altFormat||b._defaults.dateFormat,this._getDate(a)),e=$.datepicker._getFormatConfig(a),f="",g=b._defaults.altSeparator?b._defaults.altSeparator:b._defaults.separator,h=b._defaults.altTimeSuffix?b._defaults.altTimeSuffix:b._defaults.timeSuffix,i=null!==b._defaults.altTimeFormat?b._defaults.altTimeFormat:b._defaults.timeFormat;f+=$.datepicker.formatTime(i,b,b._defaults)+h,b._defaults.timeOnly||b._defaults.altFieldTimeOnly||(f=b._defaults.altFormat?$.datepicker.formatDate(b._defaults.altFormat,null===d?new Date:d,e)+g+f:b.formattedDate+g+f),$(c).val(f)}}else $.datepicker._base_updateAlternate(a)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&c._defaults.timeOnly&&b.input.val()!=b.lastVal)try{$.datepicker._updateDatepicker(b)}catch(d){$.datepicker.log(d)}return $.datepicker._base_doKeyUp(a)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(a){var b=this._getInst($(a)[0]),c=b.dpDiv;this._base_gotoToday(a);var d=this._get(b,"timepicker");selectLocalTimeZone(d);var e=new Date;this._setTime(b,e),$(".ui-datepicker-today",c).click()},$.datepicker._disableTimepickerDatepicker=function(a){var b=this._getInst(a);if(b){var c=this._get(b,"timepicker");$(a).datepicker("getDate"),c&&(c._defaults.showTimepicker=!1,c._updateDateTime(b))}},$.datepicker._enableTimepickerDatepicker=function(a){var b=this._getInst(a);if(b){var c=this._get(b,"timepicker");$(a).datepicker("getDate"),c&&(c._defaults.showTimepicker=!0,c._addTimePicker(b),c._updateDateTime(b))}},$.datepicker._setTime=function(a,b){var c=this._get(a,"timepicker");if(c){var d=c._defaults;c.hour=b?b.getHours():d.hour,c.minute=b?b.getMinutes():d.minute,c.second=b?b.getSeconds():d.second,c.millisec=b?b.getMilliseconds():d.millisec,c._limitMinMaxDateTime(a,!0),c._onTimeChange(),c._updateDateTime(a)}},$.datepicker._setTimeDatepicker=function(a,b,c){var d=this._getInst(a);if(d){var e=this._get(d,"timepicker");if(e){this._setDateFromField(d);var f;b&&("string"==typeof b?(e._parseTime(b,c),f=new Date,f.setHours(e.hour,e.minute,e.second,e.millisec)):f=new Date(b.getTime()),"Invalid Date"==f.toString()&&(f=void 0),this._setTime(d,f))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(a,b){var c=this._getInst(a);if(c){var d=b instanceof Date?new Date(b.getTime()):b;this._updateDatepicker(c),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(a,d,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(a,b){var c=this._getInst(a);if(c){var d=this._get(c,"timepicker");if(d){void 0===c.lastVal&&this._setDateFromField(c,b);var e=this._getDate(c);return e&&d._parseTime($(a).val(),d.timeOnly)&&e.setHours(d.hour,d.minute,d.second,d.millisec),e}return this._base_getDateDatepicker(a,b)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(a,b,c){var d;try{d=this._base_parseDate(a,b,c)}catch(e){d=this._base_parseDate(a,b.substring(0,b.length-(e.length-e.indexOf(":")-2)),c),$.datepicker.log("Error parsing the date string: "+e+"\ndate string = "+b+"\ndate format = "+a)}return d},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(a){var b=this._get(a,"timepicker");return b?(b._updateDateTime(a),b.$input.val()):this._base_formatDate(a)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(a,b,c){var d,e=this._getInst(a);if(!e)return null;var f=this._get(e,"timepicker");if(f){var g,h=null,i=null,j=null,k=f._defaults.evnts,l={};if("string"==typeof b){if("minDate"===b||"minDateTime"===b)h=c;else if("maxDate"===b||"maxDateTime"===b)i=c;else if("onSelect"===b)j=c;else if(k.hasOwnProperty(b)){if("undefined"==typeof c)return k[b];l[b]=c,d={}}}else if("object"==typeof b){b.minDate?h=b.minDate:b.minDateTime?h=b.minDateTime:b.maxDate?i=b.maxDate:b.maxDateTime&&(i=b.maxDateTime);for(g in k)k.hasOwnProperty(g)&&b[g]&&(l[g]=b[g])}for(g in l)l.hasOwnProperty(g)&&(k[g]=l[g],d||(d=$.extend({},b)),delete d[g]);if(d&&isEmptyObject(d))return;h?(h=0===h?new Date:new Date(h),f._defaults.minDate=h,f._defaults.minDateTime=h):i?(i=0===i?new Date:new Date(i),f._defaults.maxDate=i,f._defaults.maxDateTime=i):j&&(f._defaults.onSelect=j)}return void 0===c?this._base_optionDatepicker.call($.datepicker,a,b):this._base_optionDatepicker.call($.datepicker,a,d||b,c)};var isEmptyObject=function(a){var b;for(b in a)if(a.hasOwnProperty(a))return!1;return!0},extendRemove=function(a,b){$.extend(a,b);for(var c in b)(null===b[c]||void 0===b[c])&&(a[c]=b[c]);return a},useAmpm=function(a){return-1!==a.indexOf("t")&&-1!==a.indexOf("h")},convert24to12=function(a){return a>12&&(a-=12),0==a&&(a=12),String(a)},splitDateTime=function(a,b,c,d){try{var e=d&&d.separator?d.separator:$.timepicker._defaults.separator,f=d&&d.timeFormat?d.timeFormat:$.timepicker._defaults.timeFormat,g=f.split(e),h=g.length,i=b.split(e),j=i.length;if(j>1)return[i.splice(0,j-h).join(e),i.splice(0,h).join(e)]}catch(k){if($.datepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+k+"\ndateTimeString"+b+"\ndateFormat = "+a+"\nseparator = "+d.separator+"\ntimeFormat = "+d.timeFormat),k.indexOf(":")>=0){{var l=b.length-(k.length-k.indexOf(":")-2);b.substring(l)}return[$.trim(b.substring(0,l)),$.trim(b.substring(l))]}throw k}return[b,""]},parseDateTimeInternal=function(a,b,c,d,e){var f,g=splitDateTime(a,c,d,e);if(f=$.datepicker._base_parseDate(a,g[0],d),""!==g[1]){var h=g[1],i=$.datepicker.parseTime(b,h,e);if(null===i)throw"Wrong time format";return{date:f,timeObj:i}}return{date:f}},selectLocalTimeZone=function(a,b){if(a&&a.timezone_select){a._defaults.useLocalTimezone=!0;var c="undefined"!=typeof b?b:new Date,d=$.timepicker.timeZoneOffsetString(c);a._defaults.timezoneIso8601&&(d=d.substring(0,3)+":"+d.substring(3)),a.timezone_select.val(d)}};$.timepicker=new Timepicker,$.timepicker.timeZoneOffsetString=function(a){var b=-1*a.getTimezoneOffset(),c=b%60,d=(b-c)/60;return(b>=0?"+":"-")+("0"+(101*d).toString()).substr(-2)+("0"+(101*c).toString()).substr(-2)
},$.timepicker.timeRange=function(a,b,c){return $.timepicker.handleRange("timepicker",a,b,c)},$.timepicker.dateTimeRange=function(a,b,c){$.timepicker.dateRange(a,b,c,"datetimepicker")},$.timepicker.dateRange=function(a,b,c,d){d=d||"datepicker",$.timepicker.handleRange(d,a,b,c)},$.timepicker.handleRange=function(a,b,c,d){function e(a,d,e){d.val()&&new Date(b.val())>new Date(c.val())&&d.val(e)}function f(b,c,d){if($(b).val()){var e=$(b)[a].call($(b),"getDate");e.getTime&&$(c)[a].call($(c),"option",d,e)}}return $.fn[a].call(b,$.extend({onClose:function(a){e(this,c,a)},onSelect:function(){f(this,c,"minDate")}},d,d.start)),$.fn[a].call(c,$.extend({onClose:function(a){e(this,b,a)},onSelect:function(){f(this,b,"maxDate")}},d,d.end)),"timepicker"!=a&&d.reformat&&$([b,c]).each(function(){var b=$(this)[a].call($(this),"option","dateFormat"),c=new Date($(this).val());$(this).val()&&c&&$(this).val($.datepicker.formatDate(b,c))}),e(b,c,b.val()),f(b,c,"minDate"),f(c,b,"maxDate"),$([b.get(0),c.get(0)])},$.timepicker.version="1.1.1"}}(jQuery),"object"!=typeof JSON&&(JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a){a.widget("ui.dropdownchecklist",{version:function(){alert("DropDownCheckList v1.4")},_appendDropContainer:function(b){var c=a("<div/>");c.addClass("ui-dropdownchecklist ui-dropdownchecklist-dropcontainer-wrapper"),c.addClass("ui-widget"),c.attr("id",b.attr("id")+"-ddw"),c.css({position:"absolute",left:"-33000px",top:"-33000px"});var d=a("<div/>");return d.addClass("ui-dropdownchecklist-dropcontainer ui-widget-content"),d.css("overflow-y","auto"),c.append(d),c.insertAfter(b),c.isOpen=!1,c},_isDropDownKeyShortcut:function(b,c){return b.altKey&&a.ui.keyCode.DOWN==c},_isDropDownCloseKey:function(b,c){return a.ui.keyCode.ESCAPE==c||a.ui.keyCode.ENTER==c},_keyFocusChange:function(b,c,d){var e=a(":focusable"),f=e.index(b);if(f>=0){if(f+=c,d){var g=this.dropWrapper.find("input:not([disabled])"),h=e.index(g.get(0)),i=e.index(g.get(g.length-1));h>f?f=i:f>i&&(f=h)}e.get(f).focus()}},_handleKeyboard:function(b){var c=this,d=b.keyCode||b.which;!c.dropWrapper.isOpen&&c._isDropDownKeyShortcut(b,d)?(b.stopImmediatePropagation(),c._toggleDropContainer(!0)):c.dropWrapper.isOpen&&c._isDropDownCloseKey(b,d)?(b.stopImmediatePropagation(),c._toggleDropContainer(!1),c.controlSelector.focus()):!c.dropWrapper.isOpen||"checkbox"!=b.target.type||d!=a.ui.keyCode.DOWN&&d!=a.ui.keyCode.UP?c.dropWrapper.isOpen&&d==a.ui.keyCode.TAB:(b.stopImmediatePropagation(),c._keyFocusChange(b.target,d==a.ui.keyCode.DOWN?1:-1,!0))},_handleFocus:function(b,c,d){var e=this;d&&!e.dropWrapper.isOpen?(b.stopImmediatePropagation(),c?(e.controlSelector.addClass("ui-state-hover"),null!=a.ui.dropdownchecklist.gLastOpened&&a.ui.dropdownchecklist.gLastOpened._toggleDropContainer(!1)):e.controlSelector.removeClass("ui-state-hover")):d||c||(null!=b&&b.stopImmediatePropagation(),e.controlSelector.removeClass("ui-state-hover"),e._toggleDropContainer(!1))},_cancelBlur:function(){var a=this;null!=a.blurringItem&&(clearTimeout(a.blurringItem),a.blurringItem=null)},_appendControl:function(){var b=this,c=this.sourceSelect,d=this.options,e=a("<span/>");e.addClass("ui-dropdownchecklist ui-dropdownchecklist-selector-wrapper ui-widget"),e.css({display:"inline-block",cursor:"default",overflow:"hidden"});var f=c.attr("id");f=null==f||""==f?"ddcl-"+a.ui.dropdownchecklist.gIDCounter++:"ddcl-"+f,e.attr("id",f);var g=a("<span/>");g.addClass("ui-dropdownchecklist-selector ui-state-default"),g.css({display:"inline-block",overflow:"hidden","white-space":"nowrap"});var h=c.attr("tabIndex");if(null==h?h=0:(h=parseInt(h),0>h&&(h=0)),g.attr("tabIndex",h),g.keyup(function(a){b._handleKeyboard(a)}),g.focus(function(a){b._handleFocus(a,!0,!0)}),g.blur(function(a){b._handleFocus(a,!1,!0)}),e.append(g),null!=d.icon){var i=null==d.icon.placement?"left":d.icon.placement,j=a("<div/>");j.addClass("ui-icon"),j.addClass(null!=d.icon.toOpen?d.icon.toOpen:"ui-icon-triangle-1-e"),j.css({"float":i}),g.append(j)}var k=a("<span/>");return k.addClass("ui-dropdownchecklist-text"),k.css({display:"inline-block","white-space":"nowrap",overflow:"hidden"}),g.append(k),e.hover(function(){b.disabled||g.addClass("ui-state-hover")},function(){b.disabled||g.removeClass("ui-state-hover")}),e.click(function(a){b.disabled||(a.stopImmediatePropagation(),b._toggleDropContainer(!b.dropWrapper.isOpen))}),e.insertAfter(c),a(window).resize(function(){!b.disabled&&b.dropWrapper.isOpen&&b._toggleDropContainer(!0)}),e},_createDropItem:function(b,c,d,e,f,g,h,i){var j=this,k=this.options,l=this.sourceSelect,m=this.controlWrapper,n=a("<div/>");n.addClass("ui-dropdownchecklist-item"),n.css({"white-space":"nowrap"});var o,p=g?' checked="checked"':"",q=h?' class="inactive"':' class="active"',r=m.attr("id"),s=r+"-i"+b;o=a(j.isMultiple?'<input disabled type="checkbox" id="'+s+'"'+p+q+' tabindex="'+c+'" />':'<input disabled type="radio" id="'+s+'" name="'+r+'"'+p+q+' tabindex="'+c+'" />'),o=o.attr("index",b).val(d),n.append(o);var t=a("<label for="+s+"/>");return t.addClass("ui-dropdownchecklist-text"),null!=f&&t.attr("style",f),t.css({cursor:"default"}),t.html(e),i&&n.addClass("ui-dropdownchecklist-indent"),n.addClass("ui-state-default"),h&&n.addClass("ui-state-disabled"),t.click(function(a){a.stopImmediatePropagation()}),n.append(t),n.hover(function(){var b=a(this);b.hasClass("ui-state-disabled")||b.addClass("ui-state-hover")},function(){var b=a(this);b.removeClass("ui-state-hover")}),o.click(function(b){var c=a(this);if(b.stopImmediatePropagation(),c.hasClass("active")){var d=j.options.onItemClick;if(a.isFunction(d))try{d.call(j,c,l.get(0))}catch(e){return c.prop("checked",!c.prop("checked")),void j._syncSelected(c)}j._syncSelected(c),j.sourceSelect.trigger("change","ddcl_internal"),!j.isMultiple&&k.closeRadioOnClick&&j._toggleDropContainer(!1)}}),n.click(function(b){var c=a(this);if(b.stopImmediatePropagation(),c.hasClass("ui-state-disabled"))c.focus(),j._cancelBlur();else{var d=c.find("input"),e=d.prop("checked");d.prop("checked",!e);var f=j.options.onItemClick;if(a.isFunction(f))try{f.call(j,d,l.get(0))}catch(g){return d.prop("checked",e),void j._syncSelected(d)}j._syncSelected(d),j.sourceSelect.trigger("change","ddcl_internal"),e||j.isMultiple||!k.closeRadioOnClick||j._toggleDropContainer(!1)}}),n.focus(function(b){a(this);b.stopImmediatePropagation()}),n.keyup(function(a){j._handleKeyboard(a)}),n},_createGroupItem:function(b,c){var d=this,e=a("<div />");e.addClass("ui-dropdownchecklist-group ui-widget-header"),c&&e.addClass("ui-state-disabled"),e.css({"white-space":"nowrap"});var f=a("<span/>");return f.addClass("ui-dropdownchecklist-text"),f.css({cursor:"default"}),f.text(b),e.append(f),e.click(function(b){var c=a(this);b.stopImmediatePropagation(),c.focus(),d._cancelBlur()}),e.focus(function(b){a(this);b.stopImmediatePropagation()}),e},_createCloseItem:function(b){var c=this,d=a("<div />");d.addClass("ui-state-default ui-dropdownchecklist-close ui-dropdownchecklist-item"),d.css({"white-space":"nowrap","text-align":"right"});var e=a("<span/>");return e.addClass("ui-dropdownchecklist-text"),e.css({cursor:"default"}),e.html(b),d.append(e),d.click(function(b){var d=a(this);b.stopImmediatePropagation(),d.focus(),c._toggleDropContainer(!1)}),d.hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),d.focus(function(b){a(this);b.stopImmediatePropagation()}),d},_appendItems:function(){var b=this,c=this.options,d=this.sourceSelect,e=this.dropWrapper,f=e.find(".ui-dropdownchecklist-dropcontainer");if(d.children().each(function(c){var d=a(this);if(d.is("option"))b._appendOption(d,f,c,!1,!1);else if(d.is("optgroup")){var e=d.prop("disabled"),g=d.attr("label");if(""!=g){var h=b._createGroupItem(g,e);f.append(h)}b._appendOptions(d,f,c,!0,e)}}),null!=c.explicitClose){var g=b._createCloseItem(c.explicitClose);f.append(g)}var h=f.outerWidth(),i=f.outerHeight();return{width:h,height:i}},_appendOptions:function(b,c,d,e,f){var g=this;b.children("option").each(function(b){var h=a(this),i=d+"."+b;g._appendOption(h,c,i,e,f)})},_appendOption:function(a,b,c,d,e){var f=this,g=a.html();if(null!=g&&""!=g){var h=a.val(),i=a.attr("style"),j=a.prop("selected"),k=e||a.prop("disabled"),l=f.controlSelector.attr("tabindex"),m=f._createDropItem(c,l,h,g,i,j,k,d);b.append(m)}},_syncSelected:function(b){var c=this,d=this.options,e=this.sourceSelect,f=this.dropWrapper,g=e.get(0).options,h=f.find("input.active");if("exclusive"==d.firstItemChecksAll)if(null==b&&a(g[0]).prop("selected"))h.prop("checked",!1),a(h[0]).prop("checked",!0);else if(null!=b&&0==b.attr("index")){var i=b.prop("checked");h.prop("checked",!1),a(h[0]).prop("checked",i)}else{var j=!0,k=null;h.each(function(b){if(b>0){var c=a(this).prop("checked");c||(j=!1)}else k=a(this)}),null!=k&&(j&&h.prop("checked",!1),k.prop("checked",j))}else if(d.firstItemChecksAll)if(null==b&&a(g[0]).prop("selected"))h.prop("checked",!0);else if(null!=b&&0==b.attr("index"))h.prop("checked",b.prop("checked"));else{var j=!0,k=null;h.each(function(b){if(b>0){var c=a(this).prop("checked");c||(j=!1)}else k=a(this)}),null!=k&&k.prop("checked",j)}var l=0;h=f.find("input"),h.each(function(b){var c=a(g[b+l]),d=c.html();(null==d||""==d)&&(l+=1,c=a(g[b+l])),c.prop("selected",a(this).prop("checked"))}),c._updateControlText(),null!=b&&b.focus()},_sourceSelectChangeHandler:function(){var a=this,b=this.dropWrapper;b.find("input").val(a.sourceSelect.val()),a._updateControlText()},_updateControlText:function(){var a=this,b=this.sourceSelect,c=this.options,d=this.controlWrapper,e=b.find("option:first"),f=b.find("option"),g=a._formatText(f,c.firstItemChecksAll,e),h=d.find(".ui-dropdownchecklist-text");h.html(g),h.attr("title",h.text())},_formatText:function(b,c,d){var e;if(a.isFunction(this.options.textFormatFunction))try{e=this.options.textFormatFunction(b)}catch(f){alert("textFormatFunction failed: "+f)}else c&&null!=d&&d.prop("selected")?e=d.html():(e="",b.each(function(){if(a(this).prop("selected")){""!=e&&(e+=", ");var b=a(this).attr("style"),c=a("<span/>");c.html(a(this).html()),null==b?e+=c.html():(c.attr("style",b),e+=a("<span/>").append(c).html())}}),""==e&&(e=null!=this.options.emptyText?this.options.emptyText:"&nbsp;"));return e},_toggleDropContainer:function(b){var c=this,d=function(b){if(null!=b&&b.dropWrapper.isOpen){b.dropWrapper.isOpen=!1,a.ui.dropdownchecklist.gLastOpened=null;var c=b.options;b.dropWrapper.css({top:"-33000px",left:"-33000px"});var e=b.controlSelector;e.removeClass("ui-state-active"),e.removeClass("ui-state-hover");var f=b.controlWrapper.find(".ui-icon");if(f.length>0&&(f.removeClass(null!=c.icon.toClose?c.icon.toClose:"ui-icon-triangle-1-s"),f.addClass(null!=c.icon.toOpen?c.icon.toOpen:"ui-icon-triangle-1-e")),a(document).unbind("click",d),b.dropWrapper.find("input.active").prop("disabled",!0),a.isFunction(c.onComplete))try{c.onComplete.call(b,b.sourceSelect.get(0))}catch(g){alert("callback failed: "+g)}}},e=function(b){if(!b.dropWrapper.isOpen){b.dropWrapper.isOpen=!0,a.ui.dropdownchecklist.gLastOpened=b;var c=b.options;null==c.positionHow||"absolute"==c.positionHow?b.dropWrapper.css({position:"absolute",top:b.controlWrapper.position().top+b.controlWrapper.outerHeight()+"px",left:b.controlWrapper.position().left+"px"}):"relative"==c.positionHow&&b.dropWrapper.css({position:"relative",top:"0px",left:"0px"});var e=0;if(null==c.zIndex){var f=b.controlWrapper.parents().map(function(){var b=a(this).css("z-index");return isNaN(b)?0:b}).get(),g=Math.max.apply(Math,f);g>=0&&(e=g+1)}else e=parseInt(c.zIndex);e>0&&b.dropWrapper.css({"z-index":e});var h=b.controlSelector;h.addClass("ui-state-active"),h.removeClass("ui-state-hover");var i=b.controlWrapper.find(".ui-icon");i.length>0&&(i.removeClass(null!=c.icon.toOpen?c.icon.toOpen:"ui-icon-triangle-1-e"),i.addClass(null!=c.icon.toClose?c.icon.toClose:"ui-icon-triangle-1-s")),a(document).bind("click",function(){d(b)});var j=b.dropWrapper.find("input.active");j.prop("disabled",!1);var k=j.get(0);null!=k&&k.focus()}};b?(d(a.ui.dropdownchecklist.gLastOpened),e(c)):d(c)},_setSize:function(b){var c=this.options,d=this.dropWrapper,e=this.controlWrapper,f=b.width;if(null!=c.width)f=parseInt(c.width);else if(null!=c.minWidth){var g=parseInt(c.minWidth);g>f&&(f=g)}var h=this.controlSelector;h.css({width:f+"px"});var i=h.find(".ui-dropdownchecklist-text"),j=h.find(".ui-icon");null!=j&&(f-=j.outerWidth()+4,i.css({width:f+"px"})),f=e.outerWidth();var k=null!=c.maxDropHeight?parseInt(c.maxDropHeight):-1,l=k>0&&b.height>k?k:b.height,m=b.width<f?f:b.width;a(d).css({height:l+"px",width:m+"px"}),d.find(".ui-dropdownchecklist-dropcontainer").css({height:l+"px"})},_init:function(){var b=this,c=this.options;null==a.ui.dropdownchecklist.gIDCounter&&(a.ui.dropdownchecklist.gIDCounter=1),b.blurringItem=null;var d=b.element;b.initialDisplay=d.css("display"),d.css("display","none"),b.initialMultiple=d.prop("multiple"),b.isMultiple=b.initialMultiple,null!=c.forceMultiple&&(b.isMultiple=c.forceMultiple),d.prop("multiple",!0),b.sourceSelect=d;var e=b._appendControl();b.controlWrapper=e,b.controlSelector=e.find(".ui-dropdownchecklist-selector");var f=b._appendDropContainer(e);b.dropWrapper=f;var g=b._appendItems();b._updateControlText(e,f,d),b._setSize(g),c.firstItemChecksAll&&b._syncSelected(null),c.bgiframe&&"function"==typeof b.dropWrapper.bgiframe&&b.dropWrapper.bgiframe(),b.sourceSelect.change(function(a,c){"ddcl_internal"!=c&&b._sourceSelectChangeHandler(a)})},_refreshOption:function(a,b,c){var d=a.parent();b?(a.prop("disabled",!0),a.removeClass("active"),a.addClass("inactive"),d.addClass("ui-state-disabled")):(a.prop("disabled",!1),a.removeClass("inactive"),a.addClass("active"),d.removeClass("ui-state-disabled")),a.prop("checked",c)},_refreshGroup:function(a,b){b?a.addClass("ui-state-disabled"):a.removeClass("ui-state-disabled")},close:function(){this._toggleDropContainer(!1)},refresh:function(){var b=this,c=this.sourceSelect,d=this.dropWrapper,e=d.find("input"),f=d.find(".ui-dropdownchecklist-group"),g=0,h=0;c.children().each(function(){var c=a(this),d=c.prop("disabled");if(c.is("option")){var i=c.prop("selected"),j=a(e[h]);b._refreshOption(j,d,i),h+=1}else if(c.is("optgroup")){var k=c.attr("label");if(""!=k){var l=a(f[g]);b._refreshGroup(l,d),g+=1}c.children("option").each(function(){var c=a(this),f=d||c.prop("disabled"),g=c.prop("selected"),i=a(e[h]);b._refreshOption(i,f,g),h+=1})}}),b._syncSelected(null)},enable:function(){this.controlSelector.removeClass("ui-state-disabled"),this.disabled=!1},disable:function(){this.controlSelector.addClass("ui-state-disabled"),this.disabled=!0},destroy:function(){a.Widget.prototype.destroy.apply(this,arguments),this.sourceSelect.css("display",this.initialDisplay),this.sourceSelect.prop("multiple",this.initialMultiple),this.controlWrapper.unbind().remove(),this.dropWrapper.remove()}}),a.extend(a.ui.dropdownchecklist,{defaults:{width:null,maxDropHeight:null,firstItemChecksAll:!1,closeRadioOnClick:!1,minWidth:50,positionHow:"absolute",bgiframe:!1,explicitClose:null}})}(jQuery),function(a){function b(b,c,d,e){var f={data:e||(c?c.data:{}),_wrap:c?c._wrap:null,tmpl:null,parent:c||null,nodes:[],calls:j,nest:k,wrap:l,html:m,update:n};return b&&a.extend(f,b,{nodes:[],parent:c}),d&&(f.tmpl=d,f._ctnt=f._ctnt||f.tmpl(a,f),f.key=++v,(x.length?t:s)[v]=f),f}function c(b,e,f){var g,h=f?a.map(f,function(a){return"string"==typeof a?b.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+q+'="'+b.key+'" $2'):a:c(a,b,a._ctnt)}):b;return e?h:(h=h.join(""),h.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(b,c,e,f){g=a(e).get(),i(g),c&&(g=d(c).concat(g)),f&&(g=g.concat(d(f)))}),g?g:d(h))}function d(b){var c=document.createElement("div");return c.innerHTML=b,a.makeArray(c.childNodes)}function e(b){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(b,c,d,e,f,h,i){var j,k,l,m=a.tmpl.tag[d];if(!m)throw"Template command not found: "+d;return j=m._default||[],h&&!/\w$/.test(f)&&(f+=h,h=""),f?(f=g(f),i=i?","+g(i)+")":h?")":"",k=h?f.indexOf(".")>-1?f+h:"("+f+").call($item"+i:f,l=h?k:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):l=k=j.$1||"null",e=g(e),"');"+m[c?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(l).split("$1").join(k).split("$2").join(e?e.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(a,b,c,d){return d=d?","+d+")":c?")":"",d?"("+b+").call($item"+d:a}):j.$2||"")+"_.push('"})+"');}return _;")}function f(b,d){b._wrap=c(b,!0,a.isArray(d)?d:[r.test(d)?d:a(d).html()]).join("")}function g(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function h(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}function i(c){function d(c){function d(a){a+=j,g=k[a]=k[a]||b(g,s[g.parent.key+j]||g.parent,null,!0)}var e,f,g,h,i=c;if(h=c.getAttribute(q)){for(;i.parentNode&&1===(i=i.parentNode).nodeType&&!(e=i.getAttribute(q)););e!==h&&(i=i.parentNode?11===i.nodeType?0:i.getAttribute(q)||0:0,(g=s[h])||(g=t[h],g=b(g,s[i]||t[i],null,!0),g.key=++v,s[v]=g),w&&d(h)),c.removeAttribute(q)}else w&&(g=a.data(c,"tmplItem"))&&(d(g.key),s[g.key]=g,i=a.data(c.parentNode,"tmplItem"),i=i?i.key:0);if(g){for(f=g;f&&f.key!=i;)f.nodes.push(c),f=f.parent;delete g._ctnt,delete g._wrap,a.data(c,"tmplItem",g)}}var e,f,g,h,i,j="_"+w,k={};for(g=0,h=c.length;h>g;g++)if(1===(e=c[g]).nodeType){for(f=e.getElementsByTagName("*"),i=f.length-1;i>=0;i--)d(f[i]);d(e)}}function j(a,b,c,d){return a?void x.push({_:a,tmpl:b,item:this,data:c,options:d}):x.pop()}function k(b,c,d){return a.tmpl(a.template(b),c,d,this)}function l(b,c){var d=b.options||{};return d.wrapped=c,a.tmpl(a.template(b.tmpl),b.data,d,b.item)}function m(b,c){var d=this._wrap;return a.map(a(a.isArray(d)?d.join(""):d).filter(b||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||h(a)})}function n(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]),a(b).remove()}var o,p=a.fn.domManip,q="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,s={},t={},u={key:0,data:{}},v=0,w=0,x=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){a.fn[b]=function(d){var e,f,g,h,i=[],j=a(d),k=1===this.length&&this[0].parentNode;if(o=s||{},k&&11===k.nodeType&&1===k.childNodes.length&&1===j.length)j[c](this[0]),i=this;else{for(f=0,g=j.length;g>f;f++)w=f,e=(f>0?this.clone(!0):this).get(),a.fn[c].apply(a(j[f]),e),i=i.concat(e);w=0,i=this.pushStack(i,b,j.selector)}return h=o,o=null,a.tmpl.complete(h),i}}),a.fn.extend({tmpl:function(b,c,d){return a.tmpl(this[0],b,c,d)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(b,c,d){if(b[0]&&b[0].nodeType){for(var e,f=a.makeArray(arguments),g=b.length,h=0;g>h&&!(e=a.data(b[h++],"tmplItem")););g>1&&(f[0]=[a.makeArray(b)]),e&&w&&(f[2]=function(b){a.tmpl.afterManip(this,b,d)}),p.apply(this,f)}else p.apply(this,arguments);return w=0,!o&&a.tmpl.complete(s),this}}),a.extend({tmpl:function(d,e,g,h){var i,j=!h;if(j)h=u,d=a.template[d]||a.template(null,d),t={};else if(!d)return d=h.tmpl,s[h.key]=h,h.nodes=[],h.wrapped&&f(h,h.wrapped),a(c(h,null,h.tmpl(a,h)));return d?("function"==typeof e&&(e=e.call(h||{})),g&&g.wrapped&&f(g,g.wrapped),i=a.isArray(e)?a.map(e,function(a){return a?b(g,h,d,a):null}):[b(g,h,d,e)],j?a(c(h,null,i)):i):[]},tmplItem:function(b){var c;for(b instanceof a&&(b=b[0]);b&&1===b.nodeType&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode););return c||u},template:function(b,c){return c?("string"==typeof c?c=e(c):c instanceof a&&(c=c[0]||{}),c.nodeType&&(c=a.data(c,"tmpl")||a.data(c,"tmpl",e(c.innerHTML))),"string"==typeof b?a.template[b]=c:c):b?"string"!=typeof b?a.template(null,b):a.template[b]||a.template(null,r.test(b)?b:a(b)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){s={}},afterManip:function(b,c,d){var e=11===c.nodeType?a.makeArray(c.childNodes):1===c.nodeType?[c]:[];d.call(b,c),i(e),w++}})}(jQuery),$.fn.setSpinner=function(a){var b=this;return b.options=a,this.each(function(){var a=$(this);a.on("focus",function(){var a=$(this);b=","==a.attr("separator")?a.val().replace(",","."):parseFloat(a.val().replace(/[,]*/g,"")),0===b&&(b=""),a.val(b)});var b,c=a;c.data("init",!1),b=","==c.attr("separator")?c.val().replace(",","."):parseFloat(c.val().replace(/[,]*/g,"")),c.val(b);var d=(c.attr("separator"),function(){var a=c.val().split("."),b=c.val();if(a[1]){for(var d=a[1].length-1,e="0.",f=0;d>f;f++)e+="0";e+="1",0!==d&&0!==parseFloat(a[1])||!c.data("init")?c.spinner({step:parseFloat(e),value:b,change:function(){c.change()},stop:function(){c.change()}}):e=.01}else c.spinner({step:.01,value:b,change:function(){c.change()},stop:function(){c.change()}});c.data("init",!0)});c.on("keypress",function(a){var b=a,d=b.keyCode||b.which;d=String.fromCharCode(d);var e=/[0-9]|\./,f=/[\.]/,g=c.val(),h=g.match(/(\.)/g);return null!=h&&1==h.length&&f.test(d)?!1:void(e.test(d)||(b.returnValue=!1,b.preventDefault&&b.preventDefault()))}),c.on("keyup",function(a){var b=c.val(),e=c.val().split(".");return e[1]&&e[1].length>5?(c.val(b.substring(0,e[0].length+5)),!0):void(13===a.keyCode&&d())}),c.on("blur",function(){var a=$(this);d(),""===a.val()&&a.val(0)}),d()})};